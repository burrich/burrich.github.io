'use strict';

/**
 * NodeList forEach polyfill for ie.
 * TODO: remove this when core-js v3 (babel dependencie) will be available
 */
if (window.NodeList && !NodeList.prototype.forEach) {
  NodeList.prototype.forEach = function (callback, thisArg) {
    thisArg = thisArg || window;
    for (var i = 0; i < this.length; i++) {
      callback.call(thisArg, this[i], i, this);
    }
  };
}

var menuListItems = document.querySelectorAll('.menu-list-item');
var menuEntries = ['home', 'articles', 'about'];

var activeItemIndex = 0;

init();

/**
 * Init function :
 * - Add default active class to menu
 * - Add listeners
 */
function init() {
  var _this = this;

  // Update active item if url hash
  var urlHash = location.hash.substring(1);
  if (urlHash && urlHash !== 'home') {
    activeItemIndex = menuEntries.indexOf(urlHash);
  }

  addDefaultActiveClass(activeItemIndex);

  // Menu items listeners
  menuListItems.forEach(function (item, index) {
    item.onclick = updateActiveMenuItem.bind(_this, item, index);
  });
}

/**
 * Add default active class to menu.
 */
function addDefaultActiveClass(activeItemIndex) {
  menuListItems[activeItemIndex].classList.add('active');
}

/**
 * Remove current active item class and add new
 * if item clicked is not the current active item.
 */
function updateActiveMenuItem(item, index, e) {
  if (index === activeItemIndex) {
    return;
  }

  menuListItems[activeItemIndex].classList.remove('active');
  activeItemIndex = index;

  item.classList.add('active');
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiTm9kZUxpc3QiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwiaSIsImxlbmd0aCIsImNhbGwiLCJtZW51TGlzdEl0ZW1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUVudHJpZXMiLCJhY3RpdmVJdGVtSW5kZXgiLCJpbml0IiwidXJsSGFzaCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJhZGREZWZhdWx0QWN0aXZlQ2xhc3MiLCJpdGVtIiwiaW5kZXgiLCJvbmNsaWNrIiwidXBkYXRlQWN0aXZlTWVudUl0ZW0iLCJiaW5kIiwiY2xhc3NMaXN0IiwiYWRkIiwiZSIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUlBLElBQUlBLE9BQU9DLFFBQVAsSUFBbUIsQ0FBQ0EsU0FBU0MsU0FBVCxDQUFtQkMsT0FBM0MsRUFBb0Q7QUFDbERGLFdBQVNDLFNBQVQsQ0FBbUJDLE9BQW5CLEdBQTZCLFVBQVVDLFFBQVYsRUFBb0JDLE9BQXBCLEVBQTZCO0FBQ3REQSxjQUFVQSxXQUFXTCxNQUFyQjtBQUNBLFNBQUssSUFBSU0sSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtDLE1BQXpCLEVBQWlDRCxHQUFqQyxFQUFzQztBQUNsQ0YsZUFBU0ksSUFBVCxDQUFjSCxPQUFkLEVBQXVCLEtBQUtDLENBQUwsQ0FBdkIsRUFBZ0NBLENBQWhDLEVBQW1DLElBQW5DO0FBQ0g7QUFDSixHQUxEO0FBTUQ7O0FBRUQsSUFBTUcsZ0JBQWdCQyxTQUFTQyxnQkFBVCxDQUEwQixpQkFBMUIsQ0FBdEI7QUFDQSxJQUFNQyxjQUFjLENBQUMsTUFBRCxFQUFTLFVBQVQsRUFBcUIsT0FBckIsQ0FBcEI7O0FBRUEsSUFBSUMsa0JBQWtCLENBQXRCOztBQUVBQzs7QUFFQTs7Ozs7QUFLQSxTQUFTQSxJQUFULEdBQWdCO0FBQUE7O0FBQ2Q7QUFDQSxNQUFNQyxVQUFVQyxTQUFTQyxJQUFULENBQWNDLFNBQWQsQ0FBd0IsQ0FBeEIsQ0FBaEI7QUFDQSxNQUFJSCxXQUFXQSxZQUFZLE1BQTNCLEVBQW1DO0FBQ2pDRixzQkFBa0JELFlBQVlPLE9BQVosQ0FBb0JKLE9BQXBCLENBQWxCO0FBQ0Q7O0FBRURLLHdCQUFzQlAsZUFBdEI7O0FBRUE7QUFDQUosZ0JBQWNOLE9BQWQsQ0FBc0IsVUFBQ2tCLElBQUQsRUFBT0MsS0FBUCxFQUFpQjtBQUNyQ0QsU0FBS0UsT0FBTCxHQUFlQyxxQkFBcUJDLElBQXJCLFFBQWdDSixJQUFoQyxFQUFzQ0MsS0FBdEMsQ0FBZjtBQUNELEdBRkQ7QUFHRDs7QUFFRDs7O0FBR0EsU0FBU0YscUJBQVQsQ0FBK0JQLGVBQS9CLEVBQWdEO0FBQzlDSixnQkFBY0ksZUFBZCxFQUErQmEsU0FBL0IsQ0FBeUNDLEdBQXpDLENBQTZDLFFBQTdDO0FBQ0Q7O0FBRUQ7Ozs7QUFJQSxTQUFTSCxvQkFBVCxDQUE4QkgsSUFBOUIsRUFBb0NDLEtBQXBDLEVBQTJDTSxDQUEzQyxFQUE4QztBQUM1QyxNQUFJTixVQUFVVCxlQUFkLEVBQStCO0FBQzdCO0FBQ0Q7O0FBRURKLGdCQUFjSSxlQUFkLEVBQStCYSxTQUEvQixDQUF5Q0csTUFBekMsQ0FBZ0QsUUFBaEQ7QUFDQWhCLG9CQUFrQlMsS0FBbEI7O0FBRUFELE9BQUtLLFNBQUwsQ0FBZUMsR0FBZixDQUFtQixRQUFuQjtBQUNEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTm9kZUxpc3QgZm9yRWFjaCBwb2x5ZmlsbCBmb3IgaWUuXHJcbiAqIFRPRE86IHJlbW92ZSB0aGlzIHdoZW4gY29yZS1qcyB2MyAoYmFiZWwgZGVwZW5kZW5jaWUpIHdpbGwgYmUgYXZhaWxhYmxlXHJcbiAqL1xyXG5pZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgIHRoaXNBcmcgPSB0aGlzQXJnIHx8IHdpbmRvdztcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXNbaV0sIGksIHRoaXMpO1xyXG4gICAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuY29uc3QgbWVudUxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51LWxpc3QtaXRlbScpO1xyXG5jb25zdCBtZW51RW50cmllcyA9IFsnaG9tZScsICdhcnRpY2xlcycsICdhYm91dCddO1xyXG5cclxubGV0IGFjdGl2ZUl0ZW1JbmRleCA9IDA7XHJcblxyXG5pbml0KCk7XHJcblxyXG4vKipcclxuICogSW5pdCBmdW5jdGlvbiA6XHJcbiAqIC0gQWRkIGRlZmF1bHQgYWN0aXZlIGNsYXNzIHRvIG1lbnVcclxuICogLSBBZGQgbGlzdGVuZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gIC8vIFVwZGF0ZSBhY3RpdmUgaXRlbSBpZiB1cmwgaGFzaFxyXG4gIGNvbnN0IHVybEhhc2ggPSBsb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtcclxuICBpZiAodXJsSGFzaCAmJiB1cmxIYXNoICE9PSAnaG9tZScpIHtcclxuICAgIGFjdGl2ZUl0ZW1JbmRleCA9IG1lbnVFbnRyaWVzLmluZGV4T2YodXJsSGFzaCk7XHJcbiAgfSBcclxuXHJcbiAgYWRkRGVmYXVsdEFjdGl2ZUNsYXNzKGFjdGl2ZUl0ZW1JbmRleCk7XHJcblxyXG4gIC8vIE1lbnUgaXRlbXMgbGlzdGVuZXJzXHJcbiAgbWVudUxpc3RJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgaXRlbS5vbmNsaWNrID0gdXBkYXRlQWN0aXZlTWVudUl0ZW0uYmluZCh0aGlzLCBpdGVtLCBpbmRleCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgZGVmYXVsdCBhY3RpdmUgY2xhc3MgdG8gbWVudS5cclxuICovXHJcbmZ1bmN0aW9uIGFkZERlZmF1bHRBY3RpdmVDbGFzcyhhY3RpdmVJdGVtSW5kZXgpIHtcclxuICBtZW51TGlzdEl0ZW1zW2FjdGl2ZUl0ZW1JbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgY3VycmVudCBhY3RpdmUgaXRlbSBjbGFzcyBhbmQgYWRkIG5ld1xyXG4gKiBpZiBpdGVtIGNsaWNrZWQgaXMgbm90IHRoZSBjdXJyZW50IGFjdGl2ZSBpdGVtLlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQWN0aXZlTWVudUl0ZW0oaXRlbSwgaW5kZXgsIGUpIHtcclxuICBpZiAoaW5kZXggPT09IGFjdGl2ZUl0ZW1JbmRleCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgbWVudUxpc3RJdGVtc1thY3RpdmVJdGVtSW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIGFjdGl2ZUl0ZW1JbmRleCA9IGluZGV4O1xyXG5cclxuICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG59Il19
