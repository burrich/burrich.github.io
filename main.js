'use strict';

/**
 * NodeList forEach polyfill for ie.
 * TODO: remove this when core-js v3 (babel dependencie) will be available
 */

if (window.NodeList && !NodeList.prototype.forEach) {
  NodeList.prototype.forEach = function (callback, thisArg) {
    thisArg = thisArg || window;
    for (var i = 0; i < this.length; i++) {
      callback.call(thisArg, this[i], i, this);
    }
  };
}

var menuListItems = document.querySelectorAll('.menu-list-item');
var menuEntries = ['home', 'articles', 'about'];

var activeItemIndex = 0;

init();

/**
 * Init function :
 * - Add default active class to menu
 * - Add listeners
 */
function init() {
  var _this = this;

  // Update active item if url hash
  var urlHash = location.hash.substring(1);
  if (urlHash && urlHash !== 'home') {
    activeItemIndex = menuEntries.indexOf(urlHash);
  }

  addDefaultActiveClass(activeItemIndex);

  // Menu items listeners
  menuListItems.forEach(function (item, index) {
    item.onclick = updateActiveMenuItem.bind(_this, item, index);
  });
}

/**
 * Add default active class to menu.
 */
function addDefaultActiveClass(activeItemIndex) {
  menuListItems[activeItemIndex].classList.add('active');
}

/**
 * Remove current active item class and add new
 * if item clicked is not the current active item.
 */
function updateActiveMenuItem(item, index, e) {
  if (index === activeItemIndex) {
    return;
  }

  menuListItems[activeItemIndex].classList.remove('active');
  activeItemIndex = index;

  item.classList.add('active');
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiTm9kZUxpc3QiLCJwcm90b3R5cGUiLCJmb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwiaSIsImxlbmd0aCIsImNhbGwiLCJtZW51TGlzdEl0ZW1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVudUVudHJpZXMiLCJhY3RpdmVJdGVtSW5kZXgiLCJpbml0IiwidXJsSGFzaCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJhZGREZWZhdWx0QWN0aXZlQ2xhc3MiLCJpdGVtIiwiaW5kZXgiLCJvbmNsaWNrIiwidXBkYXRlQWN0aXZlTWVudUl0ZW0iLCJiaW5kIiwiY2xhc3NMaXN0IiwiYWRkIiwiZSIsInJlbW92ZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7Ozs7O0FBSUEsSUFBSUEsT0FBT0MsUUFBUCxJQUFtQixDQUFDQSxTQUFTQyxTQUFULENBQW1CQyxPQUEzQyxFQUFvRDtBQUNsREYsV0FBU0MsU0FBVCxDQUFtQkMsT0FBbkIsR0FBNkIsVUFBVUMsUUFBVixFQUFvQkMsT0FBcEIsRUFBNkI7QUFDdERBLGNBQVVBLFdBQVdMLE1BQXJCO0FBQ0EsU0FBSyxJQUFJTSxJQUFJLENBQWIsRUFBZ0JBLElBQUksS0FBS0MsTUFBekIsRUFBaUNELEdBQWpDLEVBQXNDO0FBQ2xDRixlQUFTSSxJQUFULENBQWNILE9BQWQsRUFBdUIsS0FBS0MsQ0FBTCxDQUF2QixFQUFnQ0EsQ0FBaEMsRUFBbUMsSUFBbkM7QUFDSDtBQUNKLEdBTEQ7QUFNRDs7QUFFRCxJQUFNRyxnQkFBZ0JDLFNBQVNDLGdCQUFULENBQTBCLGlCQUExQixDQUF0QjtBQUNBLElBQU1DLGNBQWMsQ0FBQyxNQUFELEVBQVMsVUFBVCxFQUFxQixPQUFyQixDQUFwQjs7QUFFQSxJQUFJQyxrQkFBa0IsQ0FBdEI7O0FBRUFDOztBQUVBOzs7OztBQUtBLFNBQVNBLElBQVQsR0FBZ0I7QUFBQTs7QUFDZDtBQUNBLE1BQU1DLFVBQVVDLFNBQVNDLElBQVQsQ0FBY0MsU0FBZCxDQUF3QixDQUF4QixDQUFoQjtBQUNBLE1BQUlILFdBQVdBLFlBQVksTUFBM0IsRUFBbUM7QUFDakNGLHNCQUFrQkQsWUFBWU8sT0FBWixDQUFvQkosT0FBcEIsQ0FBbEI7QUFDRDs7QUFFREssd0JBQXNCUCxlQUF0Qjs7QUFFQTtBQUNBSixnQkFBY04sT0FBZCxDQUFzQixVQUFDa0IsSUFBRCxFQUFPQyxLQUFQLEVBQWlCO0FBQ3JDRCxTQUFLRSxPQUFMLEdBQWVDLHFCQUFxQkMsSUFBckIsUUFBZ0NKLElBQWhDLEVBQXNDQyxLQUF0QyxDQUFmO0FBQ0QsR0FGRDtBQUdEOztBQUVEOzs7QUFHQSxTQUFTRixxQkFBVCxDQUErQlAsZUFBL0IsRUFBZ0Q7QUFDOUNKLGdCQUFjSSxlQUFkLEVBQStCYSxTQUEvQixDQUF5Q0MsR0FBekMsQ0FBNkMsUUFBN0M7QUFDRDs7QUFFRDs7OztBQUlBLFNBQVNILG9CQUFULENBQThCSCxJQUE5QixFQUFvQ0MsS0FBcEMsRUFBMkNNLENBQTNDLEVBQThDO0FBQzVDLE1BQUlOLFVBQVVULGVBQWQsRUFBK0I7QUFDN0I7QUFDRDs7QUFFREosZ0JBQWNJLGVBQWQsRUFBK0JhLFNBQS9CLENBQXlDRyxNQUF6QyxDQUFnRCxRQUFoRDtBQUNBaEIsb0JBQWtCUyxLQUFsQjs7QUFFQUQsT0FBS0ssU0FBTCxDQUFlQyxHQUFmLENBQW1CLFFBQW5CO0FBQ0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBOb2RlTGlzdCBmb3JFYWNoIHBvbHlmaWxsIGZvciBpZS5cclxuICogVE9ETzogcmVtb3ZlIHRoaXMgd2hlbiBjb3JlLWpzIHYzIChiYWJlbCBkZXBlbmRlbmNpZSkgd2lsbCBiZSBhdmFpbGFibGVcclxuICovXHJcbmlmICh3aW5kb3cuTm9kZUxpc3QgJiYgIU5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoKSB7XHJcbiAgTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgdGhpc0FyZyA9IHRoaXNBcmcgfHwgd2luZG93O1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpc1tpXSwgaSwgdGhpcyk7XHJcbiAgICAgIH1cclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBtZW51TGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnUtbGlzdC1pdGVtJyk7XHJcbmNvbnN0IG1lbnVFbnRyaWVzID0gWydob21lJywgJ2FydGljbGVzJywgJ2Fib3V0J107XHJcblxyXG5sZXQgYWN0aXZlSXRlbUluZGV4ID0gMDtcclxuXHJcbmluaXQoKTtcclxuXHJcbi8qKlxyXG4gKiBJbml0IGZ1bmN0aW9uIDpcclxuICogLSBBZGQgZGVmYXVsdCBhY3RpdmUgY2xhc3MgdG8gbWVudVxyXG4gKiAtIEFkZCBsaXN0ZW5lcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgLy8gVXBkYXRlIGFjdGl2ZSBpdGVtIGlmIHVybCBoYXNoXHJcbiAgY29uc3QgdXJsSGFzaCA9IGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO1xyXG4gIGlmICh1cmxIYXNoICYmIHVybEhhc2ggIT09ICdob21lJykge1xyXG4gICAgYWN0aXZlSXRlbUluZGV4ID0gbWVudUVudHJpZXMuaW5kZXhPZih1cmxIYXNoKTtcclxuICB9IFxyXG5cclxuICBhZGREZWZhdWx0QWN0aXZlQ2xhc3MoYWN0aXZlSXRlbUluZGV4KTtcclxuXHJcbiAgLy8gTWVudSBpdGVtcyBsaXN0ZW5lcnNcclxuICBtZW51TGlzdEl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICBpdGVtLm9uY2xpY2sgPSB1cGRhdGVBY3RpdmVNZW51SXRlbS5iaW5kKHRoaXMsIGl0ZW0sIGluZGV4KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFkZCBkZWZhdWx0IGFjdGl2ZSBjbGFzcyB0byBtZW51LlxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRGVmYXVsdEFjdGl2ZUNsYXNzKGFjdGl2ZUl0ZW1JbmRleCkge1xyXG4gIG1lbnVMaXN0SXRlbXNbYWN0aXZlSXRlbUluZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBjdXJyZW50IGFjdGl2ZSBpdGVtIGNsYXNzIGFuZCBhZGQgbmV3XHJcbiAqIGlmIGl0ZW0gY2xpY2tlZCBpcyBub3QgdGhlIGN1cnJlbnQgYWN0aXZlIGl0ZW0uXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVBY3RpdmVNZW51SXRlbShpdGVtLCBpbmRleCwgZSkge1xyXG4gIGlmIChpbmRleCA9PT0gYWN0aXZlSXRlbUluZGV4KSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBtZW51TGlzdEl0ZW1zW2FjdGl2ZUl0ZW1JbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgYWN0aXZlSXRlbUluZGV4ID0gaW5kZXg7XHJcblxyXG4gIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbn0iXX0=
